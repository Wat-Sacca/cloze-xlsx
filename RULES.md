# Rules

"add to the second single consonant in the word an h, unless it is an h or is followed by the same consonant, so dd would not come out dhd"

"if there is a double consonant, make it single
if there are only single consonants, aspirate the first, unless aspirated already"

"if there is an h after a consonant, remove it
if there is a single consonant, double it"

If possible, we should express these rules in the logic of replacement table, eg:

'ddh': 'dh'

finish after one successful change

if there is an ā replace the first one with a
if there is an a replace the first one with ā
add to the second single consonant in the word an h, unless it is an h or is followed by the same consonant, so dd would not come out dhd

if there is an ī replace with an i
if there is an i replace with an ī
if there is a u replace with a ū
if there is a ū replace with a u
if there is an ṅ replace with an n

if there is a ṭ replace with a t, unless double ṭṭ, then tt  
if there is a t replace with a ṭ, unless double t, then ṭṭ

if there is a ḍ replace with a d, unless double ḍḍ then dd
if there is a d replace with a ḍ, unless double dd, then ḍḍ

[same with ḷ and l]
if there is a double consonant, make it single
if there are only single consonants, aspirate the first, unless aspirated already

if there is an h after a consonant, remove it
if there is a single consonant, double it
